[웹 크롤러 에이전트 프로젝트 실습 질의]

프로젝트 폴더명 : Web_Crawler_Agent_Project

모듈 설치 명령 :
 pip install streamlit requests beautifulsoup4 pandas plotly openai python-dotenv 

앱 실행 명령 :
   streamlit run app.py


#1단계. 프로젝트 구조 및 환경 설정

프롬프트 :
뉴스 및 부동산 이슈 기사 수집과 AI 요약을 위한 Streamlit 대시보드 프로젝트를 생성해줘.
프로젝트 구조는 다음과 같이 구성해줘.

app.py
scrapers/news_scraper.py
scrapers/article_extractor.py
data/
logs/
requirements.txt
.env

requirements.txt에는 streamlit, requests, beautifulsoup4, pandas, plotly, openai, python-dotenv를 포함해줘.
.env 파일을 생성해서 OPENAI_API_KEY를 관리하도록 해줘.
app.py에는 사이드바 메뉴를 만들어줘.

메뉴는 다음과 같이 구성해줘.

뉴스 검색 요약
부동산 이슈 키워드 요약
저장된 데이터 다운로드


#2단계. 뉴스 크롤링 및 기사 본문 추출

프롬프트 :
scrapers/news_scraper.py를 작성해줘.
네이버 뉴스 검색 결과 페이지를 requests와 BeautifulSoup으로 크롤링해줘.
입력값은 검색어와 수집 개수이며 기본 수집 개수는 10개로 해줘.
수집 항목은 제목, 날짜, 언론사, 기사 링크이다.

키워드를 입력 받으면 아래와 같이 링크를 검색하도록 구현해줘
keyword = '인공지능'
url = f'https://search.naver.com/search.naver?where=news&query={keyword}'

scrapers/article_extractor.py를 작성해줘.
기사 링크를 입력받아 본문 텍스트를 추출하는 함수를 만들어줘.
대표적인 본문 영역을 우선 탐색하고 실패 시 전체 텍스트에서 메뉴와 스크립트를 제거해 대체 추출하도록 해줘.

(오류시 : 네이버 뉴스검색이 전혀 안되고 있어 테스트해보면서 코드를 만들어줘봐)


#3단계. OpenAI 요약 및 키워드 추출

프롬프트 :
OpenAI API를 사용해 다음 기능을 구현해줘.
기사 본문을 3줄로 요약하는 함수
기사 핵심 키워드 5개를 추출하는 함수
요약과 키워드는 한국어로 반환해줘.

app.py에서 검색어를 입력하고 버튼을 누르면 다음이 순차적으로 실행되게 해줘.
뉴스 목록 수집
기사 본문 추출
AI 요약 및 키워드 생성
결과를 데이터프레임으로 화면에 출력


#4단계. 부동산 이슈 키워드 기반 기사 요약

프롬프트 :
부동산 이슈 키워드 기반 뉴스 수집 기능을 추가해줘.

Streamlit 메뉴에 “부동산 이슈 키워드 요약”을 추가해줘.

다음 키워드를 버튼 형태로 제공해줘.

금리
전세
분양
재건축
청약
대출
규제

또는 사용자가 직접 키워드를 입력할 수 있게 해줘.
선택한 키워드로 뉴스 검색을 실행하고 기사 요약을 생성해줘.
모든 기사를 종합해서 이슈 전체 요약을 5줄로 생성해줘.

수집 결과는 data 폴더에 CSV 파일로 저장해줘.
Streamlit에서 CSV 다운로드 버튼을 제공해줘.


#5단계. 데이터 시각화 및 리포트 생성

프롬프트 :
다음 차트를 Streamlit에 추가해줘.

키워드 빈도수 바 차트
언론사별 기사 수 바 차트
날짜별 기사 수 추이 라인 차트

“종합 리포트 생성” 버튼을 추가해줘.

현재 수집된 기사 요약을 기반으로 다음 내용을 생성해줘.

전체 요약 문단
핵심 포인트 5개
주요 키워드 TOP 10
리포트는 data 폴더에 txt 파일로 저장하고 다운로드할 수 있게 해줘.

(오류시 질의 : “종합 리포트 생성” 버튼이 동작하지 않아)


#6단계. 안정성 및 예외 처리

프롬프트 :
애플리케이션 안정성을 높이기 위해 다음을 적용해줘.

requests 호출에 timeout 설정
User-Agent 헤더 지정(실제 브라우저처럼 보이도록)
기사 본문 추출 실패 시 예외 처리
OpenAI 호출 전 텍스트 길이 제한 처리
오류 발생 시 Streamlit 화면에 오류 메시지 표시
logs 폴더에 로그 파일 기록
중복 기사 링크 수집 방지


#7단계. 프로젝트 문서화

프롬프트
전체 프로젝트를 설명하는 README.md 파일을 작성해줘.
다음 내용을 반드시 포함해줘.

프로젝트 소개
환경 설정 방법
설치 방법
환경 변수 설정 방법
폴더 구조 설명
실행 방법
주요 기능 설명
크롤링 주의 사항

